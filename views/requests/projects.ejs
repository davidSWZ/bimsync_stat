<% include ../partials/header %>

<!-- CANVAS PREMIER BARGRAPH AVEC LES REVISIONS -->
<div id="chart1" class="myChart jumbotron">
  <canvas id="myChart" width="500px" height="2000px"></canvas>
</div>

<!-- CANVAS SECOND BARGRAPH AVEC LES TOPICS -->
<div id="chart2" class="myChart jumbotron">
  <canvas id="chartTopics" width="500px" height="2000px"></canvas>
</div>

<!-- SCRIPT POUR LE PREMIER BARGRAPH AVEC LES REVISIONS -->
<script type="text/javascript">
  var labelsStringified = <%- JSON.stringify(labels) %>;
  var backgroundColorsStringified = <%- JSON.stringify(backgroundColors) %>;
  var borderColorsStringified = <%- JSON.stringify(borderColors) %>;

  var ctx = document.getElementById("myChart").getContext('2d');
  var myChart = new Chart(ctx, {
    type: 'horizontalBar',
    data: {
        labels: labelsStringified,
        datasets: [{
            label: 'Revisions by project',
            data: [<%=datas%>],
            backgroundColor: backgroundColorsStringified,
            borderColor: borderColorsStringified,
            borderWidth: 1
        }]
    },
    options: {
        responsive:true,
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero:true
                }
            }]
        }
    }
  });
</script>

<!-- SCRIPT POUR LE SECOND BARGRAPH AVEC LES TOPICS -->
<script type="text/javascript">
  var labelsStringified = <%- JSON.stringify(labels) %>;
  var backgroundColorsStringified = <%- JSON.stringify(backgroundColors) %>;
  var borderColorsStringified = <%- JSON.stringify(borderColors) %>;

  var ctx = document.getElementById("chartTopics").getContext('2d');
  var myChart = new Chart(ctx, {
    type: 'horizontalBar',
    data: {
        labels: labelsStringified,
        datasets: [{
            label: 'Topics by project',
            data: [<%=datas%>],
            backgroundColor: backgroundColorsStringified,
            borderColor: borderColorsStringified,
            borderWidth: 1
        }]
    },
    options: {
        responsive:true,
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero:true
                }
            }]
        }
    }
  });
</script>


<% include ../partials/footer %>
