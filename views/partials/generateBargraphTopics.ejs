<script type="text/javascript">

  //Transforme en string les variables
  var labelsTopicsStringified = <%- JSON.stringify(labelsTopics) %>;
  var backgroundColorsStringified = <%- JSON.stringify(backgroundColors) %>;
  var borderColorsStringified = <%- JSON.stringify(borderColors) %>;

  //Déclaration des paramêtres pour Chart.js
  var ctx = document.getElementById("chartTopics").getContext('2d');
  var data = {
      labels: labelsTopicsStringified,
      datasets: [{
          label: 'Topics by project',
          data: [<%=datasTopics%>],
          backgroundColor: backgroundColorsStringified,
          borderColor: borderColorsStringified,
          borderWidth: 1
      }]
  }
  
  var options = {
      responsive:true,
      scales: {
          yAxes: [{
              barThickness:20,
              ticks: {
                  beginAtZero:true
              }
          }],
          xAxes:[{
            gridLines:{
              display:false
            }
          }]
      }
  }

  // Calcul de la hauteur du bargraph
  var height = (data.labels.length +5) * 30;

  //définit la hauteur et la largeur du bargraph en parametrant les attributs du canvas
  document.getElementById('chartTopics').setAttribute("width",500)
  document.getElementById('chartTopics').setAttribute("height",(height))

  var myChart = new Chart(ctx, {
    type: 'horizontalBar',
    data:data,
    options:options
  });

</script>
